events {

}
http {
  error_log /etc/nginx/log/error.log warn;
  access_log  /etc/nginx/log/access.log;
  client_max_body_size 20m;
  
  # proxy_cache_path /etc/nginx/cache keys_zone=one:500m max_size=1000m;

  gzip on;
  gzip_vary on;
  gzip_min_length 10240;
  gzip_proxied expired no-cache no-store private auth;
  gzip_types text/plain text/css text/xml text/javascript application/javascript application/xml;
  gzip_disable "MSIE [1-6]\.";

  server {
    listen 80;
    server_name carboseize.com;
    include /etc/nginx/mime.types;
    return 301 https://carboseize.com$request_uri;

      location / {
        root /usr/share/nginx/html;
      }

  }

  server {
      listen 443 ssl;
      server_name carboseize.com;
      include /etc/nginx/mime.types;
      ssl_certificate /etc/ssl/certs/carboseize.com.crt;
      ssl_certificate_key /etc/ssl/private/carboseize.com.key;
 
      ssl_session_timeout 1d;
      ssl_session_cache shared:SSL:20m;
      ssl_session_tickets off;


      ssl_trusted_certificate /etc/ssl/certs/carboseize.com.crt;

      location / {
        root /usr/share/nginx/html;
        try_files $uri /index.html;
      }
  }

}
